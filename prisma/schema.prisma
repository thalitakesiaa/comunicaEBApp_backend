generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id         Int        @id @default(autoincrement()) @map("user_id")
  email      String     @unique
  password   String
  profile    String     @db.VarChar(32)
  employee   Employees? @relation("UserEmployee")
  employeeId Int
  createdAt  DateTime   @default(now())
  updatedAt  DateTime   @updatedAt

  @@map("users")
}

model Employees {
  id                  Int           @id @default(autoincrement()) @map("employee_id")
  name                String
  email               String        @unique
  councilRegistration Int
  workingHours        Int
  affiliation         String        @db.VarChar(16)
  location            String
  groupPositionId     Int
  groupPosition       GroupPosition @relation(fields: [groupPositionId], references: [id])
  user                User          @relation("UserEmployee", fields: [userId], references: [id])
  createdAt           DateTime      @default(now())
  updatedAt           DateTime      @updatedAt
  userId              Int           @unique

  @@map("employees")
}

model GroupPosition {
  id        Int         @id @default(autoincrement()) @map("groupPosition_id")
  position  String
  employees Employees[]
  createdAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt

  @@map("groupPosition")
}
