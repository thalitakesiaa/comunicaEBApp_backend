generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
  id         Int        @id @default(autoincrement()) @map("user_id")
  email      String     @unique
  password   String
  profile    String     @db.VarChar(32)
  employee   employees? @relation("user_employee")
  employee_id Int
  created_at  DateTime   @default(now())
  updated_at  DateTime   

  @@map("users")
}

model employees {
  id                  Int            @id @default(autoincrement()) @map("employee_id")
  name                String
  email               String         @unique
  council_registration Int
  working_hours       Int
  affiliation         String         @db.VarChar(16)
  location            String
  group_position_id   Int
  group_position      group_position @relation(fields: [group_position_id], references: [id])
  user_id             Int?            @unique
  user                user?           @relation("user_employee", fields: [user_id], references: [id])
  created_at          DateTime       @default(now())
  updated_at          DateTime       

  @@map("employees")
}

model group_position {
  id        Int         @id @default(autoincrement()) @map("group_position_id")
  position  String
  employees employees[]
  created_at DateTime    @default(now())
  updated_at DateTime    

  @@map("group_positions")
}
